require 'set'

class PrimeFun

  attr_reader :primes

  def initialize(top)
    @primes = pulate_primes(top)
  end

  def populate_primes(num)
    primes = Set.new
    (2..num).each { |i| primes.add(i) if is_prime?(i)}
    primes
  end

  def is_prime?(n)
    (2..n**0.5).each { |i| return true if n%i == 0 }
    false
  end
end

print(PrimeFun.new(20).primes)
